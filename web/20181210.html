<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="前端开发, 单元测试, TDD, XHTML, JavaScript, 假装我18" />
    <meta name="viewport" content="width=device-width, initical-scale=1.0">
    <meta name=”description” content=”前端开发-用测试驱动开发入门篇”>
    <title>前端开发：单元测试的重要性</title>
    <link rel="stylesheet" href="../static/css/201812/mediaType.css"/>

</head>
<body>
 <div class="cont" id="cont">
     <h1>不行，我要用单元测试！！</h1>
     <span class="head-detail">&rarr; <strong>前端开发</strong> 	&gt; <strong>单元测试</strong> 	&bull; <strong>测试驱动开发模式</strong> </span>
     <div class="main">
         <h3 id="why">最近项目上自己给挖的坑</h3>
         <p>
             最近在做一个超繁琐的项目，其中有一个功能是这样的： 一个接口次数在24小时内只能调用5次，超过5次后将不再请求接口。
             自己琢磨这个的做法就用 localStorage + 时间戳 来实现。于是，就开开心心的去写bug去了。它真的是个bug！！写完后自信满满的就上线的了，
             都没有想着要去测试一下自己的这个功能 &lceil; 不知道是谁给了我这么大的自信心 &rfloor;。上线成功后测试说:系统不能用了，吓的我立马去检查了线上错误。这时候才发现：自己真的是！！！
         </p>
         <div class="item">
             <span class="innertxt">这是我现在的代码，虽然可能还有些情况没有考虑到，但是至少比之前的强很多。</span>
             <img class="innerimg" src="../static/image/201812/20181211132803_new.png">
         </div>
         <div class="item">
             <span class="innertxt">这是之前的代码，线上报错：<i>_now.getTime is not a function</i></span>
             <img  class="innerimg" src="../static/image/201812/201812111291258_old.png">
         </div>
         <p>
             看完错之后，默默的训斥自己（@#$$%!），然后认真改好功能测试完毕上线，自己想了一会，觉得这样写代码太不靠谱了，不仅你不知道入参条件是否你都想到了，还是输出结果，这些如果自己不去走几遍测试，很多问题都无法发现，特别是我。
             所以我要去学一下：测试驱动型的开发方式（ TDD | BDD ）
         </p>
         <h3 id="how">找度娘问：前端单元测试，测试框架...</h3>
         <p>我想要什么类型的测试功能啊？测试分类： &hearts;单元测试，&hearts; 功能测试，&hearts;整体测试。
             <br/>1. 单元测试：关注应用中每个零部件的正常运转，防止后续修改影响之前的组件；
             <br/>2.功能测试：确保其整体表现符合预期，关注能否让用户正常使用；
             <br/>3.整合测试：确保单独运行正常的零部件整合到一起之后依然能正常运行。
             <br/>emmm....，我用单元测试吧 </p>
         <p>那测试工具主要能有什么功能？
             <br/>&rArr;有测试框架，能提供断言，生成测试结果，提供仿真测试&lceil;这个功能听起来不错 &rfloor;，生成测试覆盖率报告，提供类浏览器环境...
             <br/>&hearts; 嗯，我觉得可以，内心已经喜欢上面有的这些功能。</p>
         <p>现在流行的框架有什么呀？<br/>
             | Jest &rArr; FaceBook，社区不十分成熟，较多用于 React 项目(但广泛支持各种项目)，忠诚度较高，使用后弃用的概率较低 <br/>
             | Mocha &rArr; 社区成熟用的人多，需要较多配置，知名度最高 <br/>
             | Jasmine &rArr; 开箱即用(支持断言和仿真)，全局环境，比较'老',坑基本都有人踩过了，知名度最高<br/>
             | AVA &rArr; 异步，性能好，快照测试和断言需要三方支持<br/>
             | Tape &rArr; 体积最小，只提供最关键的东西，只提供最底层的 API
             <br/>
             参考资料：<a target="_blank" href="https://www.cnblogs.com/lihuanqing/p/8533552.html">前端测试框架对比</a>
             <a href="https://segmentfault.com/a/1190000013470485">前端单元测试</a>
         </p>
         <h3 id="done">我要用单元测试Mocha</h3>
         <p>我先去学习了... （一周后回来做学习记录）</p>
     </div>
     <div class="footer">
         <a>下一篇：</a>
         <a>上一篇：</a>
     </div>
 </div>
 <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
         crossorigin="anonymous"></script>
<script src="../static/js/common.js" ></script>
</body>
</html>